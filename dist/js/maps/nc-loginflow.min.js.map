{"version":3,"names":[],"mappings":"","sources":["nc-loginflow.js"],"sourcesContent":["'use strict'\n\nconst Store = require( 'electron-store' )\nconst store = new Store()\n\nconst server = store.get( 'loginCredentials.server' )\nconst $ = require( 'jquery' )\n\n\n\n//note(dgmid): open loginflow webview\n\nfunction loginFlow( theserver ) {\n\t\n\tconst webview = document.createElement(\"webview\")\n\t\n\twebview.setAttribute( 'src', '/' )\n\tdocument.body.appendChild(webview)\n\t\n\tconst loadPage = () => {\n\t\t\n\t\twebview.loadURL(\n\t\n\t\t\ttheserver + '/index.php/login/flow', {\n\t\n\t\t\t\tuserAgent: 'Nextcloud Bookmark Manager - Macintosh',\n\t\t\t\textraHeaders: 'OCS-APIRequest: true' \t\n\t\t\t}\n\t\t)\n\t\t\n\t\twebview.removeEventListener('dom-ready', loadPage)\n\t}\n\t\n\twebview.addEventListener('dom-ready', loadPage)\n}\n\n\n\n$(document).ready(function() {\n\t\n\tloginFlow( server )\n})\n"],"file":"../nc-loginflow.min.js"}