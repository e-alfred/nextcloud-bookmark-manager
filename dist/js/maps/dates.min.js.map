{"version":3,"names":[],"mappings":"","sources":["dates.js"],"sourcesContent":["'use strict'\n\nconst i18n\t\t\t= require( './i18n.min' )\nconst dateFormat\t= require( 'dateformat' )\n\nconst locale\t\t = i18n.language\n\n\n\ndateFormat.i18n = {\n\tdayNames: [\n\t\ti18n.t('date:sun', 'Sun'),\n\t\ti18n.t('date:mon', 'Mon'),\n\t\ti18n.t('date:tue', 'Tue'),\n\t\ti18n.t('date:wed', 'Wed'),\n\t\ti18n.t('date:thu', 'Thu'),\n\t\ti18n.t('date:fri', 'Fri'),\n\t\ti18n.t('date:sat', 'Sat'),\n\t\ti18n.t('date:sunday', 'Sunday'),\n\t\ti18n.t('date:monday', 'Monday'),\n\t\ti18n.t('date:tuesday', 'Tuesday'),\n\t\ti18n.t('date:wednesday', 'Wednesday'),\n\t\ti18n.t('date:thursday', 'Thursday'),\n\t\ti18n.t('date:friday', 'Friday'),\n\t\ti18n.t('date:saturday', 'Saturday')\n\t],\n\tmonthNames: [\n\t\ti18n.t('date:jan', 'Jan'),\n\t\ti18n.t('date:feb', 'Feb'),\n\t\ti18n.t('date:mar', 'Mar'),\n\t\ti18n.t('date:apr', 'Apr'),\n\t\ti18n.t('date:_may', 'May'),\n\t\ti18n.t('date:jun', 'Jun'),\n\t\ti18n.t('date:jul', 'Jul'),\n\t\ti18n.t('date:aug', 'Aug'),\n\t\ti18n.t('date:sep', 'Sep'),\n\t\ti18n.t('date:oct', 'Oct'),\n\t\ti18n.t('date:nov', 'Nov'),\n\t\ti18n.t('date:dec', 'Dec'),\n\t\ti18n.t('date:january', 'January'),\n\t\ti18n.t('date:february', 'February'),\n\t\ti18n.t('date:march', 'March'),\n\t\ti18n.t('date:april', 'April'),\n\t\ti18n.t('date:may', 'May'),\n\t\ti18n.t('date:june', 'June'),\n\t\ti18n.t('date:july', 'July'),\n\t\ti18n.t('date:august', 'August'),\n\t\ti18n.t('date:september', 'September'),\n\t\ti18n.t('date:october', 'October'),\n\t\ti18n.t('date:november', 'November'),\n\t\ti18n.t('date:december', 'December')\n\t],\n\ttimeNames: [\n\t\ti18n.t('date:a', 'a'),\n\t\ti18n.t('date:p', 'p'),\n\t\ti18n.t('date:am', 'am'),\n\t\ti18n.t('date:pm', 'pm'),\n\t\ti18n.t('date:_a', 'A'),\n\t\ti18n.t('date:_p', 'P'),\n\t\ti18n.t('date:_am', 'AM'),\n\t\ti18n.t('date:_pm', 'PM')\n\t]\n}\n\n\n\nmodule.exports.columnDate = function ( timestamp ) {\n\t\n\tlet today\t\t= new Date(),\n\t\tyesterday\t= new Date(),\n\t\tweek\t\t= new Date(),\n\t\ttime \t\t= dateFormat( timestamp * 1000, 'H:MM' ),\n\t\tthisday \t= i18n.t('date:today', 'today'),\n\t\tthatday \t= i18n.t('date:yesterday', 'yesterday'),\n\t\tprep \t\t= i18n.t('date:at', 'at')\n\t\n\ttoday.setHours( 0, 0, 0, 0 )\n\tyesterday.setHours( 0, 0, 0, 0 )\n\tyesterday.setDate( yesterday.getDate() - 1 )\n\tweek.setHours( 0, 0, 0, 0 )\n\tweek.setDate( week.getDate() - 7 )\n\t\n\t\n\tif( ( today.getTime() / 1000 ) < timestamp ) {\n\t\t\n\t\t//if today eg: today at 15:40\n\t\treturn `${thisday} ${prep} ${time}`\n\t\n\t} else if ( ( yesterday.getTime() / 1000 ) < timestamp ) {\n\t\t\n\t\t//if yesterday eg: yesterday at 15:40\n\t\treturn `${thatday} ${prep} ${time}`\n\t\n\t} else if ( ( week.getTime() / 1000 ) < timestamp ) {\n\t\t\n\t\t//if last week - show day\n\t\tlet weekday = dateFormat( timestamp * 1000, 'dddd' ) \n\t\treturn `${weekday} ${prep} ${time}`\n\t\t\n\t} else {\n\t\t\n\t\t//else - show date\n\t\tif( locale.startsWith('de') ) {\n\t\t\t\n\t\t\treturn dateFormat( timestamp * 1000, 'ddd d. mmm yyyy' )\n\t\t\t\n\t\t} else {\n\t\t\n\t\t\treturn dateFormat( timestamp * 1000, 'ddd d mmm yyyy' )\n\t\t}\n\t}\n}\n"],"file":"../dates.min.js"}